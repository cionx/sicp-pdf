\section{Streams}
\label{Section 3.5}

We’ve gained a good understanding of assignment as a tool in modeling, as well as an appreciation of the complex problems that assignment raises.
It is time to ask whether we could have gone about things in a different way, so as to avoid some of these problems.
In this section, we explore an alternative approach to modeling state, based on data structures called \newterm{streams}.
As we shall see, streams can mitigate some of the complexity of modeling state.

Let’s step back and review where this complexity comes from.
In an attempt to model real-world phenomena, we made some apparently reasonable decisions:
We modeled real-world objects with local state by computational objects with local variables.
We identified time variation in the real world with time variation in the computer.
We implemented the time variation of the states of the model objects in the computer with assignments to the local variables of the model objects.

Is there another approach?
Can we avoid identifying time in the computer with time in the modeled world?
Must we make the model change with time in order to model phenomena in a changing world?
Think about the issue in terms of mathematical functions.
We can describe the time-varying behavior of a quantity \( x \) as a function of time \( x(t) \).
If we concentrate on \( x \) instant by instant, we think of it as a changing quantity.
Yet if we concentrate on the entire time history of values, we do not emphasize change---the function itself does not change.%
\footnote{
	Physicists sometimes adopt this view by introducing the “world lines” of particles as a device for reasoning about motion.
	We’ve also already mentioned (\link{Section 2.2.3}) that this is the natural way to think about signal-processing systems.
	We will explore applications of streams to signal processing in \link{Section 3.5.3}.
}

If time is measured in discrete steps, then we can model a time function as a (possibly infinite) sequence.
In this section, we will see how to model change in terms of sequences that represent the time histories of the systems being modeled.
To accomplish this, we introduce new data structures called \newterm{streams}.
From an abstract point of view, a stream is simply a sequence.
However, we will find that the straightforward implementation of streams as lists (as in \link{Section 2.2.1}) doesn’t fully reveal the power of stream processing.
As an alternative, we introduce the technique of \newterm{delayed evaluation}, which enables us to represent very large (even infinite) sequences as streams.

Stream processing lets us model systems that have state without ever using assignment or mutable data.
This has important implications, both theoretical and practical, because we can build models that avoid the drawbacks inherent in introducing assignment.
On the other hand, the stream framework raises difficulties of its own, and the question of which modeling technique leads to more modular and more easily maintained systems remains open.

\input{content/3.5.1_streams_are_delayed_lists.tex}
\input{content/3.5.2_infinite_streams.tex}
\input{content/3.5.3_exploiting_the_stream_paradigm.tex}
\input{content/3.5.4_streams_and_delayed_evaluation.tex}
\input{content/3.5.5_modularity_of_functional_programs_and_modularity_of_objects.tex}
